// IMC/Edad - Percentiles OMS
// Unidad: kg/m²
// Edad en: meses
// Fuente: Organización Mundial de la Salud

// Tipos de resultado para el diagnóstico de IMC/Edad
export type BMIForAgeDiagnosis =
  | "DELGADEZ SEVERA"
  | "DELGADEZ"
  | "NORMAL"
  | "SOBREPESO"
  | "OBESIDAD";

// Interfaz para el resultado del diagnóstico
export interface BMIForAgeResult {
  diagnosis: BMIForAgeDiagnosis;
  percentile: string;
  zScore: string;
}

export const BMI_FOR_AGE_PERCENTILES = {
  boys: {
    // meses: [P0.1(-3SD), P3(-2SD), P15(-1SD), P50(Median), P85(+1SD), P97(+2SD)]
    24: [12.9, 13.8, 14.8, 16, 17.3, 18.9],
    25: [12.8, 13.8, 14.8, 16, 17.3, 18.8],
    26: [12.8, 13.7, 14.8, 15.9, 17.3, 18.8],
    27: [12.7, 13.7, 14.7, 15.9, 17.2, 18.7],
    28: [12.7, 13.6, 14.7, 15.9, 17.2, 18.7],
    29: [12.7, 13.6, 14.7, 15.8, 17.1, 18.6],
    30: [12.6, 13.6, 14.6, 15.8, 17.1, 18.6],
    31: [12.6, 13.5, 14.6, 15.8, 17.1, 18.5],
    32: [12.5, 13.5, 14.6, 15.7, 17, 18.5],
    33: [12.5, 13.5, 14.5, 15.7, 17, 18.5],
    34: [12.5, 13.4, 14.5, 15.7, 17, 18.4],
    35: [12.4, 13.4, 14.5, 15.6, 16.9, 18.4],
    36: [12.4, 13.4, 14.4, 15.6, 16.9, 18.4],
    37: [12.4, 13.3, 14.4, 15.6, 16.9, 18.3],
    38: [12.3, 13.3, 14.4, 15.5, 16.8, 18.3],
    39: [12.3, 13.3, 14.3, 15.5, 16.8, 18.3],
    40: [12.3, 13.2, 14.3, 15.5, 16.8, 18.2],
    41: [12.2, 13.2, 14.3, 15.5, 16.8, 18.2],
    42: [12.2, 13.2, 14.3, 15.4, 16.8, 18.2],
    43: [12.2, 13.2, 14.2, 15.4, 16.7, 18.2],
    44: [12.2, 13.1, 14.2, 15.4, 16.7, 18.2],
    45: [12.2, 13.1, 14.2, 15.4, 16.7, 18.2],
    46: [12.1, 13.1, 14.2, 15.4, 16.7, 18.2],
    47: [12.1, 13.1, 14.2, 15.3, 16.7, 18.2],
    48: [12.1, 13.1, 14.1, 15.3, 16.7, 18.2],
    49: [12.1, 13, 14.1, 15.3, 16.7, 18.2],
    50: [12.1, 13, 14.1, 15.3, 16.7, 18.2],
    51: [12.1, 13, 14.1, 15.3, 16.6, 18.2],
    52: [12, 13, 14.1, 15.3, 16.6, 18.2],
    53: [12, 13, 14.1, 15.3, 16.6, 18.2],
    54: [12, 13, 14, 15.3, 16.6, 18.2],
    55: [12, 13, 14, 15.2, 16.6, 18.2],
    56: [12, 12.9, 14, 15.2, 16.6, 18.2],
    57: [12, 12.9, 14, 15.2, 16.6, 18.2],
    58: [12, 12.9, 14, 15.2, 16.6, 18.3],
    59: [12, 12.9, 14, 15.2, 16.6, 18.3],
    60: [12, 12.9, 14, 15.2, 16.6, 18.3],
    61: [12.118, 13.031, 14.071, 15.264, 16.645, 18.259],
    62: [12.115, 13.027, 14.066, 15.262, 16.648, 18.273],
    63: [12.114, 13.024, 14.063, 15.26, 16.653, 18.29],
    64: [12.114, 13.022, 14.061, 15.26, 16.659, 18.308],
    65: [12.114, 13.021, 14.06, 15.262, 16.667, 18.328],
    66: [12.115, 13.021, 14.06, 15.264, 16.676, 18.35],
    67: [12.117, 13.021, 14.061, 15.268, 16.686, 18.374],
    68: [12.121, 13.023, 14.063, 15.274, 16.699, 18.399],
    69: [12.125, 13.026, 14.067, 15.28, 16.712, 18.427],
    70: [12.129, 13.03, 14.071, 15.288, 16.727, 18.456],
    71: [12.135, 13.035, 14.077, 15.296, 16.743, 18.487],
    72: [12.141, 13.04, 14.083, 15.306, 16.761, 18.52],
    73: [12.148, 13.047, 14.09, 15.317, 16.78, 18.554],
    74: [12.155, 13.053, 14.098, 15.328, 16.799, 18.589],
    75: [12.163, 13.061, 14.107, 15.341, 16.82, 18.626],
    76: [12.171, 13.069, 14.116, 15.354, 16.842, 18.665],
    77: [12.18, 13.077, 14.126, 15.368, 16.864, 18.704],
    78: [12.189, 13.086, 14.136, 15.382, 16.888, 18.745],
    79: [12.198, 13.095, 14.147, 15.398, 16.913, 18.788],
    80: [12.208, 13.105, 14.158, 15.414, 16.938, 18.831],
    81: [12.218, 13.115, 14.17, 15.43, 16.964, 18.876],
    82: [12.228, 13.126, 14.183, 15.447, 16.991, 18.922],
    83: [12.239, 13.136, 14.195, 15.465, 17.019, 18.969],
    84: [12.25, 13.148, 14.209, 15.483, 17.047, 19.017],
    85: [12.261, 13.159, 14.222, 15.502, 17.076, 19.066],
    86: [12.272, 13.171, 14.236, 15.521, 17.106, 19.116],
    87: [12.283, 13.183, 14.25, 15.541, 17.136, 19.168],
    88: [12.295, 13.195, 14.265, 15.561, 17.167, 19.22],
    89: [12.307, 13.208, 14.28, 15.581, 17.199, 19.274],
    90: [12.319, 13.221, 14.295, 15.602, 17.231, 19.328],
    91: [12.331, 13.234, 14.311, 15.624, 17.264, 19.383],
    92: [12.343, 13.247, 14.327, 15.646, 17.297, 19.44],
    93: [12.356, 13.26, 14.343, 15.668, 17.331, 19.497],
    94: [12.368, 13.274, 14.36, 15.69, 17.366, 19.555],
    95: [12.381, 13.288, 14.377, 15.713, 17.401, 19.615],
    96: [12.394, 13.302, 14.394, 15.737, 17.437, 19.675],
    97: [12.407, 13.317, 14.412, 15.761, 17.473, 19.736],
    98: [12.42, 13.331, 14.429, 15.785, 17.51, 19.798],
    99: [12.434, 13.346, 14.447, 15.809, 17.548, 19.862],
    100: [12.447, 13.361, 14.466, 15.834, 17.586, 19.926],
    101: [12.461, 13.376, 14.484, 15.86, 17.624, 19.99],
    102: [12.475, 13.392, 14.503, 15.886, 17.663, 20.056],
    103: [12.489, 13.408, 14.523, 15.912, 17.702, 20.123],
    104: [12.503, 13.424, 14.542, 15.938, 17.742, 20.19],
    105: [12.518, 13.44, 14.562, 15.965, 17.783, 20.258],
    106: [12.532, 13.456, 14.582, 15.992, 17.824, 20.327],
    107: [12.547, 13.473, 14.603, 16.02, 17.866, 20.397],
    108: [12.562, 13.491, 14.624, 16.049, 17.908, 20.468],
    109: [12.578, 13.508, 14.646, 16.078, 17.952, 20.54],
    110: [12.594, 13.526, 14.668, 16.108, 17.996, 20.613],
    111: [12.61, 13.545, 14.691, 16.138, 18.04, 20.687],
    112: [12.626, 13.564, 14.714, 16.169, 18.086, 20.763],
    113: [12.643, 13.583, 14.738, 16.201, 18.132, 20.839],
    114: [12.661, 13.603, 14.763, 16.233, 18.179, 20.916],
    115: [12.679, 13.624, 14.788, 16.266, 18.227, 20.994],
    116: [12.697, 13.645, 14.814, 16.3, 18.276, 21.074],
    117: [12.716, 13.667, 14.84, 16.335, 18.326, 21.154],
    118: [12.735, 13.689, 14.867, 16.37, 18.376, 21.234],
    119: [12.755, 13.712, 14.895, 16.406, 18.428, 21.317],
    120: [12.775, 13.735, 14.923, 16.443, 18.48, 21.4],
    121: [12.796, 13.759, 14.952, 16.481, 18.532, 21.483],
    122: [12.817, 13.784, 14.982, 16.519, 18.586, 21.568],
    123: [12.838, 13.808, 15.012, 16.558, 18.64, 21.653],
    124: [12.86, 13.834, 15.043, 16.597, 18.696, 21.739],
    125: [12.882, 13.86, 15.074, 16.638, 18.751, 21.826],
    126: [12.905, 13.886, 15.106, 16.679, 18.808, 21.914],
    127: [12.928, 13.913, 15.139, 16.72, 18.865, 22.002],
    128: [12.952, 13.941, 15.172, 16.763, 18.923, 22.09],
    129: [12.976, 13.969, 15.206, 16.806, 18.982, 22.18],
    130: [13.001, 13.998, 15.241, 16.85, 19.042, 22.271],
    131: [13.026, 14.027, 15.276, 16.894, 19.102, 22.362],
    132: [13.051, 14.056, 15.312, 16.939, 19.163, 22.452],
    133: [13.077, 14.087, 15.348, 16.985, 19.224, 22.544],
    134: [13.103, 14.117, 15.385, 17.031, 19.287, 22.637],
    135: [13.13, 14.148, 15.422, 17.078, 19.349, 22.729],
    136: [13.157, 14.18, 15.461, 17.126, 19.413, 22.822],
    137: [13.185, 14.212, 15.499, 17.175, 19.477, 22.915],
    138: [13.213, 14.245, 15.539, 17.224, 19.542, 23.009],
    139: [13.241, 14.278, 15.578, 17.273, 19.607, 23.104],
    140: [13.27, 14.312, 15.619, 17.324, 19.674, 23.199],
    141: [13.3, 14.347, 15.66, 17.375, 19.741, 23.293],
    142: [13.33, 14.382, 15.702, 17.427, 19.808, 23.389],
    143: [13.36, 14.417, 15.745, 17.48, 19.877, 23.485],
    144: [13.391, 14.453, 15.788, 17.533, 19.946, 23.581],
    145: [13.422, 14.49, 15.833, 17.588, 20.015, 23.677],
    146: [13.454, 14.528, 15.877, 17.643, 20.086, 23.774],
    147: [13.487, 14.566, 15.923, 17.698, 20.157, 23.871],
    148: [13.52, 14.605, 15.969, 17.755, 20.229, 23.969],
    149: [13.554, 14.644, 16.016, 17.812, 20.302, 24.067],
    150: [13.588, 14.684, 16.063, 17.87, 20.375, 24.165],
    151: [13.622, 14.724, 16.112, 17.929, 20.449, 24.263],
    152: [13.658, 14.766, 16.161, 17.989, 20.524, 24.362],
    153: [13.693, 14.807, 16.21, 18.049, 20.599, 24.46],
    154: [13.729, 14.849, 16.26, 18.11, 20.675, 24.559],
    155: [13.766, 14.892, 16.311, 18.171, 20.751, 24.658],
    156: [13.802, 14.935, 16.362, 18.233, 20.829, 24.757],
    157: [13.839, 14.979, 16.414, 18.296, 20.906, 24.856],
    158: [13.877, 15.023, 16.466, 18.359, 20.984, 24.954],
    159: [13.915, 15.067, 16.519, 18.422, 21.062, 25.053],
    160: [13.953, 15.112, 16.572, 18.486, 21.14, 25.152],
    161: [13.991, 15.157, 16.625, 18.55, 21.219, 25.249],
    162: [14.029, 15.202, 16.679, 18.615, 21.298, 25.347],
    163: [14.068, 15.247, 16.733, 18.68, 21.376, 25.444],
    164: [14.107, 15.293, 16.787, 18.744, 21.455, 25.54],
    165: [14.145, 15.338, 16.841, 18.81, 21.534, 25.635],
    166: [14.184, 15.384, 16.895, 18.875, 21.613, 25.731],
    167: [14.222, 15.429, 16.95, 18.94, 21.691, 25.825],
    168: [14.261, 15.475, 17.004, 19.005, 21.77, 25.918],
    169: [14.299, 15.521, 17.058, 19.07, 21.848, 26.011],
    170: [14.337, 15.566, 17.113, 19.135, 21.926, 26.103],
    171: [14.375, 15.611, 17.167, 19.2, 22.004, 26.194],
    172: [14.414, 15.657, 17.221, 19.265, 22.081, 26.284],
    173: [14.451, 15.702, 17.275, 19.329, 22.158, 26.373],
    174: [14.489, 15.747, 17.329, 19.394, 22.235, 26.462],
    175: [14.526, 15.791, 17.382, 19.458, 22.311, 26.549],
    176: [14.563, 15.836, 17.435, 19.522, 22.387, 26.635],
    177: [14.6, 15.88, 17.489, 19.585, 22.462, 26.72],
    178: [14.636, 15.924, 17.541, 19.649, 22.537, 26.804],
    179: [14.672, 15.968, 17.594, 19.712, 22.611, 26.887],
    180: [14.708, 16.011, 17.647, 19.774, 22.685, 26.969],
    181: [14.744, 16.054, 17.699, 19.837, 22.758, 27.051],
    182: [14.779, 16.097, 17.75, 19.899, 22.831, 27.13],
    183: [14.814, 16.14, 17.802, 19.96, 22.903, 27.21],
    184: [14.848, 16.182, 17.853, 20.022, 22.975, 27.288],
    185: [14.882, 16.224, 17.904, 20.082, 23.046, 27.365],
    186: [14.916, 16.265, 17.954, 20.143, 23.116, 27.441],
    187: [14.95, 16.306, 18.004, 20.203, 23.186, 27.515],
    188: [14.982, 16.347, 18.053, 20.262, 23.255, 27.59],
    189: [15.015, 16.387, 18.103, 20.321, 23.324, 27.662],
    190: [15.047, 16.427, 18.151, 20.38, 23.391, 27.734],
    191: [15.078, 16.466, 18.199, 20.438, 23.459, 27.805],
    192: [15.109, 16.505, 18.247, 20.495, 23.525, 27.875],
    193: [15.14, 16.543, 18.295, 20.552, 23.591, 27.943],
    194: [15.17, 16.581, 18.342, 20.608, 23.656, 28.011],
    195: [15.199, 16.619, 18.388, 20.664, 23.721, 28.078],
    196: [15.228, 16.656, 18.434, 20.72, 23.785, 28.143],
    197: [15.257, 16.692, 18.479, 20.774, 23.847, 28.207],
    198: [15.285, 16.728, 18.524, 20.829, 23.91, 28.271],
    199: [15.312, 16.763, 18.568, 20.882, 23.972, 28.334],
    200: [15.339, 16.798, 18.612, 20.936, 24.032, 28.395],
    201: [15.365, 16.833, 18.655, 20.988, 24.093, 28.456],
    202: [15.391, 16.867, 18.698, 21.04, 24.152, 28.515],
    203: [15.417, 16.9, 18.741, 21.091, 24.211, 28.573],
    204: [15.441, 16.933, 18.782, 21.142, 24.269, 28.63],
    205: [15.465, 16.965, 18.823, 21.192, 24.327, 28.687],
    206: [15.489, 16.997, 18.864, 21.242, 24.383, 28.742],
    207: [15.512, 17.028, 18.904, 21.291, 24.439, 28.797],
    208: [15.534, 17.059, 18.944, 21.34, 24.494, 28.85],
    209: [15.556, 17.089, 18.983, 21.388, 24.549, 28.903],
    210: [15.577, 17.118, 19.022, 21.435, 24.603, 28.954],
    211: [15.598, 17.147, 19.06, 21.482, 24.656, 29.005],
    212: [15.618, 17.176, 19.097, 21.528, 24.708, 29.054],
    213: [15.637, 17.204, 19.134, 21.574, 24.76, 29.103],
    214: [15.656, 17.231, 19.171, 21.619, 24.811, 29.15],
    215: [15.674, 17.258, 19.207, 21.664, 24.861, 29.197],
    216: [15.692, 17.284, 19.242, 21.708, 24.911, 29.243],
    217: [15.709, 17.31, 19.277, 21.751, 24.959, 29.287],
    218: [15.725, 17.335, 19.311, 21.794, 25.008, 29.331],
    219: [15.741, 17.36, 19.344, 21.836, 25.055, 29.373],
    220: [15.756, 17.383, 19.377, 21.877, 25.102, 29.415],
    221: [15.771, 17.407, 19.41, 21.918, 25.147, 29.455],
    222: [15.784, 17.429, 19.442, 21.958, 25.193, 29.496],
    223: [15.798, 17.452, 19.473, 21.998, 25.237, 29.534],
    224: [15.811, 17.473, 19.504, 22.037, 25.281, 29.572],
    225: [15.823, 17.495, 19.535, 22.076, 25.324, 29.609],
    226: [15.834, 17.515, 19.564, 22.114, 25.366, 29.646],
    227: [15.845, 17.535, 19.594, 22.151, 25.408, 29.681],
    228: [15.855, 17.554, 19.622, 22.188, 25.449, 29.716],
  },
  girls: {
    // meses: [P0.1(-3SD), P3(-2SD), P15(-1SD), P50(Median), P85(+1SD), P97(+2SD)]
    24: [12.4, 13.3, 14.4, 15.7, 17.1, 18.7],
    25: [12.4, 13.3, 14.4, 15.7, 17.1, 18.7],
    26: [12.3, 13.3, 14.4, 15.6, 17, 18.7],
    27: [12.3, 13.3, 14.4, 15.6, 17, 18.6],
    28: [12.3, 13.3, 14.3, 15.6, 17, 18.6],
    29: [12.3, 13.2, 14.3, 15.6, 17, 18.6],
    30: [12.3, 13.2, 14.3, 15.5, 16.9, 18.5],
    31: [12.2, 13.2, 14.3, 15.5, 16.9, 18.5],
    32: [12.2, 13.2, 14.3, 15.5, 16.9, 18.5],
    33: [12.2, 13.1, 14.2, 15.5, 16.9, 18.5],
    34: [12.2, 13.1, 14.2, 15.4, 16.8, 18.5],
    35: [12.1, 13.1, 14.2, 15.4, 16.8, 18.4],
    36: [12.1, 13.1, 14.2, 15.4, 16.8, 18.4],
    37: [12.1, 13.1, 14.1, 15.4, 16.8, 18.4],
    38: [12.1, 13, 14.1, 15.4, 16.8, 18.4],
    39: [12, 13, 14.1, 15.3, 16.8, 18.4],
    40: [12, 13, 14.1, 15.3, 16.8, 18.4],
    41: [12, 13, 14.1, 15.3, 16.8, 18.4],
    42: [12, 12.9, 14, 15.3, 16.8, 18.4],
    43: [11.9, 12.9, 14, 15.3, 16.8, 18.4],
    44: [11.9, 12.9, 14, 15.3, 16.8, 18.5],
    45: [11.9, 12.9, 14, 15.3, 16.8, 18.5],
    46: [11.9, 12.9, 14, 15.3, 16.8, 18.5],
    47: [11.8, 12.8, 14, 15.3, 16.8, 18.5],
    48: [11.8, 12.8, 14, 15.3, 16.8, 18.5],
    49: [11.8, 12.8, 13.9, 15.3, 16.8, 18.5],
    50: [11.8, 12.8, 13.9, 15.3, 16.8, 18.6],
    51: [11.8, 12.8, 13.9, 15.3, 16.8, 18.6],
    52: [11.7, 12.8, 13.9, 15.2, 16.8, 18.6],
    53: [11.7, 12.7, 13.9, 15.3, 16.8, 18.6],
    54: [11.7, 12.7, 13.9, 15.3, 16.8, 18.7],
    55: [11.7, 12.7, 13.9, 15.3, 16.8, 18.7],
    56: [11.7, 12.7, 13.9, 15.3, 16.8, 18.7],
    57: [11.7, 12.7, 13.9, 15.3, 16.9, 18.7],
    58: [11.7, 12.7, 13.9, 15.3, 16.9, 18.8],
    59: [11.6, 12.7, 13.9, 15.3, 16.9, 18.8],
    60: [11.6, 12.7, 13.9, 15.3, 16.9, 18.8],
    61: [11.77, 12.748, 13.891, 15.244, 16.87, 18.858],
    62: [11.763, 12.741, 13.885, 15.243, 16.879, 18.886],
    63: [11.757, 12.734, 13.881, 15.243, 16.889, 18.915],
    64: [11.752, 12.728, 13.876, 15.244, 16.9, 18.946],
    65: [11.746, 12.723, 13.872, 15.245, 16.911, 18.977],
    66: [11.742, 12.718, 13.869, 15.246, 16.923, 19.009],
    67: [11.737, 12.714, 13.866, 15.249, 16.936, 19.042],
    68: [11.733, 12.71, 13.864, 15.252, 16.95, 19.077],
    69: [11.73, 12.706, 13.863, 15.255, 16.964, 19.112],
    70: [11.727, 12.703, 13.862, 15.259, 16.979, 19.148],
    71: [11.725, 12.701, 13.862, 15.264, 16.995, 19.185],
    72: [11.723, 12.7, 13.862, 15.27, 17.011, 19.224],
    73: [11.722, 12.699, 13.863, 15.276, 17.029, 19.264],
    74: [11.721, 12.698, 13.865, 15.283, 17.047, 19.305],
    75: [11.721, 12.699, 13.867, 15.291, 17.067, 19.347],
    76: [11.722, 12.7, 13.87, 15.3, 17.087, 19.391],
    77: [11.723, 12.701, 13.874, 15.31, 17.108, 19.436],
    78: [11.725, 12.704, 13.879, 15.32, 17.131, 19.482],
    79: [11.727, 12.707, 13.885, 15.331, 17.154, 19.529],
    80: [11.731, 12.711, 13.892, 15.344, 17.179, 19.578],
    81: [11.735, 12.716, 13.899, 15.357, 17.204, 19.628],
    82: [11.74, 12.721, 13.907, 15.372, 17.231, 19.68],
    83: [11.745, 12.728, 13.916, 15.387, 17.259, 19.734],
    84: [11.751, 12.735, 13.927, 15.404, 17.289, 19.789],
    85: [11.758, 12.743, 13.938, 15.421, 17.319, 19.845],
    86: [11.766, 12.752, 13.95, 15.44, 17.35, 19.903],
    87: [11.774, 12.762, 13.963, 15.459, 17.383, 19.963],
    88: [11.783, 12.772, 13.976, 15.48, 17.417, 20.023],
    89: [11.793, 12.783, 13.991, 15.501, 17.452, 20.085],
    90: [11.803, 12.795, 14.007, 15.524, 17.488, 20.149],
    91: [11.814, 12.808, 14.023, 15.548, 17.526, 20.214],
    92: [11.826, 12.822, 14.041, 15.572, 17.564, 20.281],
    93: [11.838, 12.836, 14.059, 15.598, 17.604, 20.349],
    94: [11.851, 12.852, 14.078, 15.625, 17.645, 20.418],
    95: [11.865, 12.868, 14.099, 15.652, 17.687, 20.489],
    96: [11.879, 12.884, 14.12, 15.681, 17.73, 20.561],
    97: [11.895, 12.902, 14.142, 15.711, 17.774, 20.634],
    98: [11.91, 12.92, 14.164, 15.742, 17.82, 20.709],
    99: [11.927, 12.94, 14.188, 15.773, 17.866, 20.784],
    100: [11.944, 12.959, 14.212, 15.806, 17.914, 20.862],
    101: [11.962, 12.98, 14.238, 15.839, 17.962, 20.94],
    102: [11.98, 13.001, 14.264, 15.874, 18.012, 21.019],
    103: [11.998, 13.023, 14.291, 15.909, 18.062, 21.1],
    104: [12.018, 13.045, 14.318, 15.945, 18.113, 21.181],
    105: [12.037, 13.068, 14.346, 15.982, 18.166, 21.263],
    106: [12.057, 13.092, 14.375, 16.019, 18.219, 21.346],
    107: [12.078, 13.115, 14.404, 16.058, 18.272, 21.429],
    108: [12.099, 13.14, 14.434, 16.096, 18.326, 21.513],
    109: [12.12, 13.165, 14.465, 16.136, 18.381, 21.599],
    110: [12.141, 13.19, 14.496, 16.176, 18.437, 21.684],
    111: [12.163, 13.216, 14.527, 16.217, 18.493, 21.77],
    112: [12.185, 13.242, 14.559, 16.258, 18.551, 21.857],
    113: [12.208, 13.269, 14.592, 16.3, 18.608, 21.944],
    114: [12.231, 13.296, 14.625, 16.343, 18.666, 22.031],
    115: [12.254, 13.323, 14.659, 16.386, 18.725, 22.12],
    116: [12.278, 13.352, 14.694, 16.43, 18.785, 22.208],
    117: [12.302, 13.38, 14.729, 16.475, 18.846, 22.298],
    118: [12.327, 13.41, 14.764, 16.52, 18.907, 22.388],
    119: [12.352, 13.439, 14.801, 16.566, 18.969, 22.479],
    120: [12.378, 13.47, 14.838, 16.613, 19.032, 22.57],
    121: [12.404, 13.501, 14.876, 16.661, 19.096, 22.663],
    122: [12.43, 13.533, 14.914, 16.71, 19.161, 22.755],
    123: [12.458, 13.565, 14.954, 16.76, 19.226, 22.849],
    124: [12.485, 13.598, 14.994, 16.81, 19.293, 22.943],
    125: [12.514, 13.631, 15.035, 16.861, 19.36, 23.038],
    126: [12.542, 13.666, 15.076, 16.914, 19.429, 23.134],
    127: [12.572, 13.7, 15.119, 16.967, 19.498, 23.231],
    128: [12.602, 13.736, 15.162, 17.021, 19.568, 23.328],
    129: [12.632, 13.772, 15.206, 17.076, 19.639, 23.426],
    130: [12.663, 13.81, 15.251, 17.132, 19.712, 23.525],
    131: [12.695, 13.847, 15.297, 17.188, 19.785, 23.624],
    132: [12.727, 13.885, 15.343, 17.246, 19.859, 23.725],
    133: [12.76, 13.925, 15.39, 17.304, 19.933, 23.825],
    134: [12.793, 13.964, 15.438, 17.364, 20.009, 23.927],
    135: [12.827, 14.004, 15.487, 17.424, 20.086, 24.029],
    136: [12.861, 14.045, 15.536, 17.485, 20.163, 24.131],
    137: [12.896, 14.087, 15.586, 17.546, 20.241, 24.234],
    138: [12.931, 14.129, 15.637, 17.609, 20.32, 24.338],
    139: [12.967, 14.171, 15.688, 17.672, 20.4, 24.442],
    140: [13.003, 14.214, 15.74, 17.736, 20.48, 24.546],
    141: [13.04, 14.258, 15.793, 17.8, 20.561, 24.651],
    142: [13.077, 14.302, 15.846, 17.865, 20.642, 24.756],
    143: [13.114, 14.346, 15.899, 17.931, 20.724, 24.861],
    144: [13.151, 14.391, 15.953, 17.997, 20.806, 24.967],
    145: [13.189, 14.436, 16.008, 18.063, 20.889, 25.072],
    146: [13.227, 14.481, 16.062, 18.13, 20.972, 25.177],
    147: [13.265, 14.526, 16.117, 18.197, 21.055, 25.282],
    148: [13.303, 14.572, 16.172, 18.264, 21.138, 25.387],
    149: [13.341, 14.618, 16.227, 18.331, 21.222, 25.491],
    150: [13.379, 14.663, 16.282, 18.399, 21.305, 25.596],
    151: [13.418, 14.709, 16.338, 18.466, 21.388, 25.699],
    152: [13.456, 14.755, 16.393, 18.533, 21.471, 25.802],
    153: [13.494, 14.8, 16.448, 18.601, 21.554, 25.905],
    154: [13.531, 14.846, 16.503, 18.668, 21.637, 26.007],
    155: [13.569, 14.891, 16.558, 18.735, 21.719, 26.107],
    156: [13.606, 14.936, 16.612, 18.801, 21.8, 26.207],
    157: [13.643, 14.981, 16.667, 18.868, 21.882, 26.307],
    158: [13.68, 15.025, 16.721, 18.934, 21.962, 26.405],
    159: [13.717, 15.07, 16.775, 18.999, 22.042, 26.501],
    160: [13.753, 15.113, 16.828, 19.064, 22.122, 26.598],
    161: [13.788, 15.157, 16.881, 19.129, 22.201, 26.693],
    162: [13.824, 15.2, 16.934, 19.193, 22.279, 26.786],
    163: [13.859, 15.243, 16.986, 19.257, 22.357, 26.879],
    164: [13.893, 15.285, 17.037, 19.32, 22.433, 26.97],
    165: [13.927, 15.327, 17.088, 19.382, 22.509, 27.06],
    166: [13.961, 15.368, 17.139, 19.444, 22.584, 27.149],
    167: [13.994, 15.408, 17.188, 19.504, 22.658, 27.235],
    168: [14.026, 15.448, 17.238, 19.565, 22.731, 27.321],
    169: [14.058, 15.488, 17.286, 19.624, 22.803, 27.406],
    170: [14.089, 15.526, 17.334, 19.682, 22.874, 27.489],
    171: [14.119, 15.564, 17.38, 19.74, 22.943, 27.57],
    172: [14.149, 15.601, 17.427, 19.797, 23.012, 27.65],
    173: [14.179, 15.638, 17.472, 19.852, 23.079, 27.727],
    174: [14.207, 15.674, 17.516, 19.907, 23.145, 27.804],
    175: [14.235, 15.709, 17.56, 19.961, 23.21, 27.879],
    176: [14.262, 15.743, 17.603, 20.013, 23.273, 27.951],
    177: [14.288, 15.776, 17.644, 20.065, 23.336, 28.023],
    178: [14.314, 15.809, 17.685, 20.115, 23.396, 28.091],
    179: [14.338, 15.841, 17.725, 20.164, 23.456, 28.159],
    180: [14.362, 15.871, 17.764, 20.212, 23.514, 28.224],
    181: [14.385, 15.901, 17.802, 20.26, 23.57, 28.289],
    182: [14.408, 15.93, 17.839, 20.305, 23.625, 28.35],
    183: [14.429, 15.958, 17.874, 20.35, 23.679, 28.411],
    184: [14.45, 15.985, 17.909, 20.393, 23.731, 28.469],
    185: [14.469, 16.012, 17.943, 20.436, 23.782, 28.525],
    186: [14.488, 16.037, 17.976, 20.477, 23.832, 28.58],
    187: [14.507, 16.062, 18.008, 20.517, 23.88, 28.634],
    188: [14.524, 16.085, 18.039, 20.556, 23.927, 28.684],
    189: [14.541, 16.108, 18.069, 20.594, 23.972, 28.734],
    190: [14.557, 16.13, 18.098, 20.631, 24.017, 28.782],
    191: [14.572, 16.151, 18.126, 20.666, 24.06, 28.828],
    192: [14.586, 16.172, 18.153, 20.701, 24.101, 28.873],
    193: [14.6, 16.191, 18.179, 20.734, 24.141, 28.915],
    194: [14.613, 16.21, 18.205, 20.767, 24.18, 28.956],
    195: [14.625, 16.228, 18.229, 20.798, 24.218, 28.996],
    196: [14.636, 16.245, 18.253, 20.829, 24.254, 29.034],
    197: [14.647, 16.261, 18.275, 20.858, 24.29, 29.07],
    198: [14.656, 16.277, 18.297, 20.886, 24.324, 29.105],
    199: [14.666, 16.291, 18.318, 20.914, 24.356, 29.138],
    200: [14.674, 16.305, 18.338, 20.94, 24.388, 29.17],
    201: [14.682, 16.318, 18.357, 20.966, 24.418, 29.201],
    202: [14.689, 16.331, 18.376, 20.99, 24.448, 29.23],
    203: [14.695, 16.343, 18.393, 21.014, 24.476, 29.257],
    204: [14.701, 16.354, 18.411, 21.037, 24.503, 29.283],
    205: [14.707, 16.365, 18.427, 21.059, 24.53, 29.308],
    206: [14.711, 16.375, 18.443, 21.08, 24.555, 29.333],
    207: [14.716, 16.384, 18.458, 21.101, 24.58, 29.355],
    208: [14.719, 16.393, 18.472, 21.121, 24.603, 29.376],
    209: [14.722, 16.401, 18.486, 21.14, 24.626, 29.398],
    210: [14.725, 16.409, 18.499, 21.159, 24.649, 29.418],
    211: [14.728, 16.417, 18.512, 21.177, 24.67, 29.436],
    212: [14.73, 16.424, 18.525, 21.194, 24.691, 29.455],
    213: [14.731, 16.431, 18.537, 21.212, 24.712, 29.472],
    214: [14.733, 16.437, 18.548, 21.228, 24.731, 29.489],
    215: [14.734, 16.443, 18.56, 21.244, 24.75, 29.505],
    216: [14.734, 16.448, 18.571, 21.26, 24.769, 29.52],
    217: [14.735, 16.454, 18.581, 21.276, 24.788, 29.536],
    218: [14.735, 16.459, 18.592, 21.291, 24.805, 29.55],
    219: [14.735, 16.463, 18.601, 21.306, 24.823, 29.564],
    220: [14.734, 16.468, 18.611, 21.32, 24.84, 29.577],
    221: [14.734, 16.473, 18.621, 21.334, 24.856, 29.589],
    222: [14.733, 16.477, 18.63, 21.348, 24.873, 29.602],
    223: [14.732, 16.48, 18.639, 21.362, 24.889, 29.614],
    224: [14.731, 16.484, 18.648, 21.375, 24.905, 29.626],
    225: [14.729, 16.488, 18.657, 21.388, 24.92, 29.637],
    226: [14.728, 16.491, 18.665, 21.401, 24.935, 29.649],
    227: [14.726, 16.494, 18.673, 21.414, 24.951, 29.659],
    228: [14.724, 16.497, 18.681, 21.427, 24.965, 29.67],
  }
};

/**
 * Calcula el diagnóstico nutricional de IMC/Edad según los percentiles de la OMS
 * @param weight - Peso en kilogramos
 * @param height - Talla en centímetros
 * @param ageInMonths - Edad en meses (24-228 meses, 2-19 años)
 * @param gender - Género del paciente ("male" | "female")
 * @returns Resultado del diagnóstico con clasificación, percentil y Z-score
 */
export function calculateBMIForAge(
  weight: number,
  height: number,
  ageInMonths: number,
  gender: "male" | "female"
): BMIForAgeResult {
  // Validar parámetros de entrada
  if (weight <= 0 || height <= 0 || ageInMonths < 24 || ageInMonths > 228) {
    return {
      diagnosis: "NORMAL",
      percentile: "Fuera de rango",
      zScore: "No disponible"
    };
  }

  // Calcular IMC
  const heightInMeters = height / 100;
  const bmi = weight / (heightInMeters * heightInMeters);

  // Redondear la edad al mes más cercano
  const roundedAge = Math.round(ageInMonths);

  // Obtener los datos según el género
  const genderData = gender === "male"
    ? BMI_FOR_AGE_PERCENTILES.boys
    : BMI_FOR_AGE_PERCENTILES.girls;

  // Verificar si tenemos datos para esta edad
  if (!genderData[roundedAge as keyof typeof genderData]) {
    return {
      diagnosis: "NORMAL",
      percentile: "Edad fuera de rango",
      zScore: "No disponible"
    };
  }

  const percentiles = genderData[roundedAge as keyof typeof genderData];

  // Los percentiles están en el orden: [P0.1(-3SD), P3(-2SD), P15(-1SD), P50(Median), P85(+1SD), P97(+2SD)]
  const [p01, p3, p15, , p85, p97] = percentiles;

  let diagnosis: BMIForAgeDiagnosis;
  let percentile: string;
  let zScore: string;

  if (bmi < p01) {
    diagnosis = "DELGADEZ SEVERA";
    percentile = "< P0.1";
    zScore = "< -3 DE";
  } else if (bmi < p3) {
    diagnosis = "DELGADEZ SEVERA";
    percentile = "P0.1 - P3";
    zScore = "-3 DE a -2 DE";
  } else if (bmi < p15) {
    diagnosis = "DELGADEZ";
    percentile = "P3 - P15";
    zScore = "-2 DE a -1 DE";
  } else if (bmi <= p85) {
    diagnosis = "NORMAL";
    percentile = "P15 - P85";
    zScore = "-1 DE a +1 DE";
  } else if (bmi <= p97) {
    diagnosis = "SOBREPESO";
    percentile = "P85 - P97";
    zScore = "+1 DE a +2 DE";
  } else {
    diagnosis = "OBESIDAD";
    percentile = "> P97";
    zScore = "> +2 DE";
  }

  return {
    diagnosis,
    percentile,
    zScore
  };
}
